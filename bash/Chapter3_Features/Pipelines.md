#
管道是由控制运算符 "|" 或 "|&" 之一分隔的一个或多个命令的序列。
#

管道的格式是
```
[time [-p]] [!] command1 [ | or |& command2 ] …
```
管道中每个命令的输出通过管道连接到下一个命令的输入。 也就是说，每个命令都读取前一个命令的输出。 此连接在命令指定的任何重定向之前执行。  
#
如果使用 '|&' ，command1的标准错误，除了它的标准输出，通过管道连接到command2的标准输入； 它是 `2>&1 |` 的简写。 标准错误到标准输出的这种隐式重定向是在命令指定的任何重定向之后执行的。
#
保留字 time 导致在管道完成后打印时序统计信息。 当前的统计信息包括已用（挂钟）时间以及命令执行消耗的用户和系统时间。 -p 选项将输出格式更改为 POSIX 指定的格式。 当 shell 处于 POSIX 模式时（请参阅 Bash POSIX 模式），如果下一个标记以“-”开头，它不会将时间识别为保留字。 TIMEFORMAT 变量可以设置为格式字符串，用于指定应如何显示计时信息。 有关可用格式的说明，请参阅 Bash 变量。 使用 time 作为保留字允许 shell 内置函数、shell 函数和管道的计时。 外部时间命令无法轻松地对这些时间进行计时。
#
当 shell 处于 POSIX 模式时（请参阅 Bash POSIX 模式），时间后面可能会跟一个换行符。 在这种情况下，shell 会显示 shell 及其子进程消耗的总用户和系统时间。 TIMEFORMAT 变量可用于指定时间信息的格式。
#
如果管道不是异步执行的（参见列表），shell 将等待管道中的所有命令完成。
#
管道中的每个命令都在其自己的子 shell 中执行，该子 shell 是一个单独的进程（请参阅命令执行环境）。 如果使用内置 shopt 启用了 lastpipe 选项（请参阅 The Shopt Builtin），则管道的最后一个元素可能由 shell 进程运行。
#
管道的退出状态是管道中最后一个命令的退出状态，除非启用了 pipefail 选项（请参阅 The Set Builtin）。 如果启用了 pipefail，则管道的返回状态是最后一个（最右边）以非零状态退出的命令的值，或者如果所有命令都成功退出，则为零。 如果保留字 "！" 在管道之前，则退出状态是上述退出状态的逻辑否定。 shell 在返回值之前等待管道中的所有命令终止。

